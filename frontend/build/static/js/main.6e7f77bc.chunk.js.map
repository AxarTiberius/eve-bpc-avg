{"version":3,"sources":["settings.js","hooks/requests.js","hooks/useEstimates.js","components/EstimateTable.js","App.js","index.js"],"names":["globalStyles","body","fontFamily","height","background","backgroundSize","html","overflow","audioSettings","common","volume","playersSettings","object","src","assemble","loop","type","click","ask","error","info","readout","toggle","warning","bleepsSettings","player","API_URL","httpPostEstimate","data","a","fetch","method","headers","JSON","stringify","response","json","console","ok","useEstimates","paste","cb","useState","isPendingEstimate","setPendingEstimate","submitEstimate","e","preventDefault","success","id","columnWidths","EstimateItems","props","React","activate","useEffect","clearTimeout","dataset","estimate","items","map","item","typeID","columns","field","String","length","class","totalMarketValue_human","animator","animatorGeneral","duration","enter","exit","Submit","children","bleeps","useBleeps","onClick","play","FrameComponent","FrameCorners","style","App","setPaste","setEstimate","err","styles","marginBottom","width","margin","paddingTop","onSubmit","hover","inverted","multiline","placeholder","autoFocus","defaultValue","spellCheck","inputProps","onChange","target","value","EstimateTable","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6e7f77bc.chunk.js","sourcesContent":["const FONT_FAMILY_ROOT = '\"Titillium Web\", sans-serif';\nconst SOUND_OBJECT_URL = '/assets/sounds/object.mp3';\nconst SOUND_ASSEMBLE_URL = '/assets/sounds/assemble.mp3';\nconst SOUND_TYPE_URL = '/assets/sounds/type.mp3';\nconst SOUND_CLICK_URL = '/assets/sounds/click.mp3';\nconst SOUND_ASK_URL = '/assets/sounds/ask.mp3';\nconst SOUND_ERROR_URL = '/assets/sounds/error.mp3';\nconst SOUND_INFO_URL = '/assets/sounds/information.mp3';\nconst SOUND_READOUT_URL = '/assets/sounds/readout.mp3';\nconst SOUND_TOGGLE_URL = '/assets/sounds/toggle.mp3';\nconst SOUND_WARNING_URL = '/assets/sounds/warning.mp3';\nconst BG_URL = '/assets/images/bg.jpg'\n\nconst globalStyles = {\n  body: {\n    fontFamily: FONT_FAMILY_ROOT,\n    height: '100%',\n    background: 'url(' + BG_URL + ') top center no-repeat',\n    backgroundSize: '100%'\n  },\n  html: {\n    height: '100%',\n    overflow: 'visible'\n  }\n};\nconst animatorGeneral = { duration: { enter: 200, exit: 200, stagger: 30 } };\nconst audioSettings = { common: { volume: 0.25 } };\nconst playersSettings = {\n  object: { src: [SOUND_OBJECT_URL] },\n  assemble: { src: [SOUND_ASSEMBLE_URL], loop: true },\n  type: { src: [SOUND_TYPE_URL], loop: true },\n  click: { src: [SOUND_CLICK_URL] },\n  ask: { src: [SOUND_ASK_URL] },\n  error: { src: [SOUND_ERROR_URL] },\n  info: { src: [SOUND_INFO_URL] },\n  readout: { src: [SOUND_READOUT_URL] },\n  toggle: { src: [SOUND_TOGGLE_URL] },\n  warning: { src: [SOUND_WARNING_URL] }\n};\nconst bleepsSettings = {\n  object: { player: 'object' },\n  assemble: { player: 'assemble' },\n  type: { player: 'type' },\n  click: { player: 'click' },\n  ask: { player: 'ask' },\n  error: { player: 'error' },\n  info: { player: 'info' },\n  readout: { player: 'readout' },\n  toggle: { player: 'toggle' },\n  warning: { player: 'warning' }\n};\n\nexport {\n  animatorGeneral,\n  globalStyles,\n  audioSettings,\n  playersSettings,\n  bleepsSettings,\n};","const API_URL = 'http://localhost:1339';\n\n// Submit inventory paste data.\nasync function httpPostEstimate (data) {\n  try {\n    const response = await fetch(`${API_URL}/estimate`, {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    })\n    return response.json();\n  }\n  catch (err) {\n    console.error('req err', err)\n    return {\n      ok: false,\n    };\n  }\n}\n\nexport {\n  httpPostEstimate\n};","import { useCallback, useState } from 'react';\n\nimport {\n  httpPostEstimate\n} from './requests';\n\nfunction useEstimates (paste, cb) {\n  const [isPendingEstimate, setPendingEstimate] = useState(false);\n\n  const submitEstimate = async (e) => {\n    e.preventDefault();\n    setPendingEstimate(true);\n    const response = await httpPostEstimate(paste);\n    const success = response.ok !== false;\n    setPendingEstimate(false);\n    if (success) {\n      cb(null, response);\n    } else {\n      cb(response);\n    }\n  }\n\n  return {\n    isPendingEstimate,\n    submitEstimate\n  };\n}\n\nexport default useEstimates;","import React from 'react'\nimport {Table} from '@arwes/core'\n\n// TODO: Update this to use new estimate fields\nconst headers = [\n  { id: 'typeID', data: 'typeID' },\n  { id: 'typeName', data: 'Name' },\n  { id: 'minSoloPrice_human', data: 'Solo' },\n  { id: 'minPackagePrice_human', data: 'Package' },\n  { id: 'minMarketPrice_human', data: 'Market' },\n  { id: 'marketLiquidity_human', data: 'Liquidity' },\n  { id: 'minPrice_human', data: 'Lowest Price' },\n  { id: 'itemsFound', data: 'Your Quantity' },\n  { id: 'totalMarketValue_human', data: 'Your Value' },\n  { id: 'marketType', data: 'Method' },\n  { id: 'minPriceRegionName', data: 'Region' }\n];\nconst columnWidths = ['6%', '40%', '6%', '6%', '6%', '6%', '6%', '6%', '6%', '6%', '6%'];\n\nconst EstimateItems = (props) => {\n  const [activate, setActivate] = React.useState(true);\n\n  React.useEffect(() => {\n    const timeout = 0;\n    return () => clearTimeout(timeout);\n  }, [activate]);\n\n  const dataset = props.estimate.items.map(function (item) {\n    return {\n      id: 'item_' + item.typeID,\n      columns: headers.map(function (field) {\n        return {\n          id: 'item_' + item.typeID + '_' + field.id,\n          data: item[field.id] === null ? '' : String(item[field.id])\n        }\n      })\n    }\n  });\n\n  if (props.estimate.items.length) {\n    return (\n      <div>\n        <center>\n          <h3>Your Total Value:</h3>\n          <h1 class=\"hilite\">{ props.estimate.totalMarketValue_human } ISK</h1>\n        </center>\n        <Table\n          animator={{ activate }}\n          headers={headers}\n          dataset={dataset}\n          columnWidths={columnWidths}\n        />\n      </div>\n    );\n  }\n  else {\n    return '';\n  }\n};\n\nexport default EstimateItems\n","import React from 'react';\nimport {AnimatorGeneralProvider} from '@arwes/animator';\nimport {BleepsProvider, useBleeps} from '@arwes/bleeps';\nimport {\n  ArwesThemeProvider,\n  Button,\n  StylesBaseline,\n  Text,\n  TextField,\n  FrameHexagon,\n  FrameCorners\n} from '@arwes/core';\nimport {\n  globalStyles,\n  audioSettings,\n  playersSettings,\n  bleepsSettings\n} from './settings'\n\nimport useEstimates from './hooks/useEstimates'\nimport EstimateTable from './components/EstimateTable'\n\n// End settings\n\nconst animatorGeneral = { duration: { enter: 1000, exit: 1000 } };\n\nconst Submit = ({ children }) => {\n  const bleeps  = useBleeps();\n  const onClick = () => bleeps.readout.play();\n  return (\n    <Button onClick={onClick} FrameComponent={FrameCorners} style={{\n      'margin': 'auto',\n      'float': 'right'\n    }}>\n      <Text>{children}</Text>\n    </Button>\n  );\n}\n\nconst App = () => {\n  const [activate, setActivate] = React.useState(true);\n\n  const [paste, setPaste] = React.useState({})\n  const [estimate, setEstimate] = React.useState({items: []})\n\n  React.useEffect(() => {\n    const timeout = 0\n    return () => clearTimeout(timeout);\n  }, [activate]);\n\n  const onResponse = (err, response) => {\n    if (err) {\n      console.error('error', err)\n      return;\n    }\n    setEstimate(response)\n  }\n  const {submitEstimate} = useEstimates(paste, onResponse)\n\n  const onPasteChange = (e) => {\n    setPaste({paste: e.target.value})\n  }\n\n  return (\n    <ArwesThemeProvider>\n      <StylesBaseline styles={{\n        'html': globalStyles.html,\n        'body': globalStyles.body,\n        '.arwes-text-field': { marginBottom: 20 },\n        'form': {width: '750px', margin: '0 auto 50px auto', paddingTop: '50px'},\n        'textarea': {'maxHeight': '200px', 'height': '200px'},\n        '.hilite': {'color': '#F8F800'},\n      }} />\n      <BleepsProvider\n        audioSettings={audioSettings}\n        playersSettings={playersSettings}\n        bleepsSettings={bleepsSettings}\n      >\n        <AnimatorGeneralProvider animator={animatorGeneral}>\n          <form onSubmit={submitEstimate}>\n            <FrameHexagon\n              animator={{ activate }}\n              hover\n              inverted\n            >\n              <TextField\n                multiline\n                placeholder='Paste EVE inventory here'\n                autoFocus\n                defaultValue=''\n                spellCheck={false}\n                inputProps={{id: 'paste'}}\n                onChange={onPasteChange}\n                style={{\n                  'width': '700px',\n                  'minHeight': '200px'\n                }}\n              />\n              <Submit>Appraise</Submit>\n            </FrameHexagon>\n          </form>\n          <EstimateTable estimate={estimate} />\n        </AnimatorGeneralProvider>\n      </BleepsProvider>\n    </ArwesThemeProvider>\n  );\n};\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\nif (module.hot) {\n  module.hot.accept()\n}\n"],"sourceRoot":""}